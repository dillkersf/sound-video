<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>sound and video</title>
</head>
<body>
    <main>
        <section>
            <video controls style="height:auto; width:50px
            %;" poster="media/s-l1200.jpg">
            <source src="media/Ha Ha, Hee Hee.mp3" style="height: 600px;" type="video/mp4">
        </video>
        <!-- custom play/pause image button UNDER the video -->
      <div class="controls">
        <button
          class="media-btn"
          id="video1-btn"
          aria-label="play video"
          aria-pressed="false"
          data-target="video1"
          data-type="video">
          <img src="media/s-l1200.jpg" alt="play">
        </button>
        <span class="hint">click the image to play/pause</span>
      </div>
     
        </section>
        <section>
            <audio src="media/Ha Ha, Hee Hee.mp3" autoplay loop></audio>
        </section>
        <!-- custom play/pause image button UNDER the audio -->
      <div class="controls">
        <button
          class="media-btn"
          id="audio1-btn"
          aria-label="play audio"
          aria-pressed="false"
          data-target="audio1"
          data-type="audio">
          <img src="media/s-l1200.jpg" alt="play">
        </button>
        <span class="hint">click the image to play/pause</span>
      </div>
    </main>
    <script>
    // set your image filenames here if different
    const PLAY_ICON  = 'raven-play.png';
    const PAUSE_ICON = 'raven-pause.png';

    function wireButton(btn) {
      const media = document.getElementById(btn.dataset.target);
      if (!media) return;

      // when the button is clicked: play/pause
      btn.addEventListener('click', () => {
        if (media.paused || media.ended) { media.play(); } else { media.pause(); }
      });

      // update the button image + ARIA when state changes
      const setState = (playing) => {
        btn.setAttribute('aria-pressed', playing ? 'true' : 'false');
        btn.setAttribute('aria-label', playing ? (btn.dataset.type === 'video' ? 'pause video' : 'pause audio')
                                              : (btn.dataset.type === 'video' ? 'play video'  : 'play audio'));
        const img = btn.querySelector('img');
        if (img) img.src = playing ? PAUSE_ICON : PLAY_ICON;
        img.alt = playing ? 'pause' : 'play';
      };

      media.addEventListener('play',  () => setState(true));
      media.addEventListener('pause', () => setState(false));
      media.addEventListener('ended', () => { media.currentTime = 0; setState(false); });

      // initialize the image based on the initial state
      setState(!media.paused && !media.ended);
    }

    // wire both buttons
    wireButton(document.getElementById('video1-btn'));
    wireButton(document.getElementById('audio1-btn'));
  </script>
</body>
</html>